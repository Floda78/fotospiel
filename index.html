<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fotospiel</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='50%' x='50%' dominant-baseline='middle' text-anchor='middle' font-size='50'>üì∏</text></svg>">
    <meta name="description" content="Ein lustiges Fotospiel mit zuf√§lligen Aufgaben f√ºr deine Party!">
    <meta name="author" content="Dein Name">
    <style>
        body {
            background-color: #274472;
            font-family: Arial, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #fff;
        }

        .container {
            background-color: #3C6E99;
            border-radius: 10px;
            padding: 20px 30px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 600px;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 20px;
        }

        p {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        a {
            color: #1E90FF;
            font-weight: bold;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .generate-button {
            background-color: #38B000;
            color: white;
            font-size: 1.1rem;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
        }

        .generate-button:hover {
            transform: scale(1.05);
        }

        .task-display {
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
        }

        .fade {
            animation: fadeIn 3s forwards;
        }

        .zoom {
            animation: zoomIn 3s forwards;
        }

        .rotate {
            animation: rotateIn 3s forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes zoomIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }

        @keyframes rotateIn {
            from {
                transform: rotate(-360deg);
            }
            to {
                transform: rotate(0);
            }
        }

        .counter {
            font-size: 0.9rem;
            margin-top: 10px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Willkommen beim Fotospiel!</h1>
        <p>Dr√ºcke bitte nur einmal auf den Button, um eine zuf√§llige Aufgabe zu erhalten. Darauf steht eine Fotoaufgabe, z. B.:</p>
        <p><em>‚ÄûEin Gegenstand, der wie eine Zahl aussieht.‚Äú</em></p>
        <p>Du hast den ganzen Abend Zeit, dein Foto zu machen ‚Äì kreativ und lustig! Lade dein Foto anschlie√üend in den bereitgestellten Google Foto-Link hoch:</p>
        <p><a href="https://photos.app.goo.gl/5QGhYASFqL8HrsgL8" target="_blank">Google Foto-Link</a></p>
        <p>Am Ende entscheidet die Jury, wer die Aufgabe am besten gel√∂st hat, und der Gewinner bekommt nat√ºrlich einen kleinen Preis.</p>
        <p>Hab Spa√ü und frag vorher, wenn du jemanden fotografieren m√∂chtest!</p>
        <button class="generate-button" onclick="generateTask()">Aufgabe generieren</button>
        <div class="task-display" id="taskDisplay">&nbsp;</div>
        <div class="counter" id="counterDisplay">Noch <span id="tasksRemaining">102</span> Aufgaben √ºbrig</div>
    </div>

   <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"></script>

<script>
  // Firebase-Konfiguration
  const firebaseConfig = {    apiKey: "AIzaSyDA4sSdzx_MYaivp3vCg63201_oOghkKVA",
    authDomain: "fotospiel-86285.firebaseapp.com",
    databaseURL: "https://fotospiel-86285-default-rtdb.firebaseio.com",
    projectId: "fotospiel-86285",
    storageBucket: "fotospiel-86285.firebasestorage.app",
    messagingSenderId: "274758787072",
    appId: "1:274758787072:web:18a7b89fe3a3948a0f78e5"
  };

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.database(app);
    
</script>

        const originalTasks = [
            "Mache ein Portr√§tfoto vom Geburtstagskind",
            "Male das Geburtstagskind auf die Serviette und fotografiere die Zeichnung.",
            "Fotografiere das Geburtstagskind von m√∂glichst weit oben",
            "Fotografiere das Outfit des Geburtstagskinds",
            "Bringe das Geburtstagskind zum Lachen und fotografiere es",
            "Mache dem Geburtstagskind ein Kompliment und fotografiere seine Reaktion",
            "Schneide zusammen mit dem Geburtstagskind eine Grimasse und fotografiert euch dabei.",
            "Sto√üe mit dem Geburtstagskind an und lass es fotografieren.",
            "Mach eine Nahaufnahme von den Augen vom Geburtstagskind",
            "Suche zwei G√§ste aus und bitte sie dem Geburtstagskind rechts und links auf die Wange gleichzeitig ein K√ºsschen zu geben und fotografiere es.",
            "Fotografiere das Geburtstagskind auf der Froschperspektive nach oben.",
            "Mache eine sch√∂ne Aufnahme √ºber die Schulter des Geburtstagskinds mit der Feier im Hintergrund.",
            "Mache ein Foto vom sch√∂nsten Paar",
            "Suche 5 unterschiedlich gro√üe G√§ste und sortiere sie der Gr√∂√üe nach und mache ein Foto davon.",
            "Bitte einen weiblichen Gast und einen m√§nnlichen Gast mit ihren H√§nden ein Herz zu formen und fotografiere es.",
            "Suche deinen Lieblingsmenschen und mache ein sch√∂nes Selfie.",
            "Mache ein Selfie von dir mit den j√ºngsten drei G√§sten unter dem Tisch.",
            "Mache ein einziges Foto von allen Familienmitgliedern des Geburtstagskindes.",
            "Trommel mindestens 10 G√§ste zusammen und fotografiere sie beim Ansto√üen.",
            "Lege die Kamera unten in die Mitte, beuge dich mit mindestens 3 anderen G√§sten nach vorne, schaut nach unten und lacht",
            "Mache ein Bild mit mindestens 5 G√§sten, die eine Brille tragen und schaut alle sehr intelligent.",
            "Bitte einen Gast durch die Kamera zu schauen und fotografiere ihn wie er dich fotografiert.",
            "Suche den Gast mit dem sch√∂nsten Kleidungsst√ºck und fotografiere ihn oder sie",
            "Fotografiere ein Gast, das dir eine Kusshand zuwirft.",
            "Mache ein Generationen-Foto",
            "Fotografiere die sch√∂nste Frisur",
            "Mache ein Foto von allen Geschwistern des Geburtstagskinds",
            "Fotografiere den am besten gekleideten Mann.",
            "Mach ein Selfie Foto von allen Leuten, die mit dir am Tisch sitzen.",
            "Lasse einen Gast oder deine:n Partner:in mit den H√§nden ein Herz formen, durch das du das Geburtstagskind eingerahmt fotografierst.",
            "Bitte einen Gast dir m√∂glichst durchtrieben zuzublinzeln und fotografiere ihn dabei.",
            "Fotografiere die sch√∂nste Frisur",
            "Bitte einen Gast die Pose von Angela Merkel einzunehmen und sie nachzuahmen und fotografiert das",
            "Mache ein Selfie mit dem Essen, das ausdr√ºckt wie lecker du ihn findest.",
            "Mache ein Foto von dem Mann mit dem l√§ngsten Bart.",
            "Fotografiere einen Gast, der ein Gesicht macht, als w√ºrde er gerade im Looping in der Achterbahn fahren.",
            "Bitte einen Gast das Geburtstagskind zu portr√§tieren und mache ein Foto davon.",
            "Bitte den gr√∂√üten Gast, den kleinsten Gast auf die Schultern zu nehmen und fotografiere sie.",
            "Versuche ein Foto mit so vielen G√§sten wie m√∂glich zu machen.",
            "Fotografiere die Hand des √§ltesten Hochzeitsgasts",
            "Finde eine Person, die genauso gro√ü ist wie du und mache mit ihr zusammen ein Foto R√ºcken an R√ºcken.",
            "Trommel alle Frauen zusammen und mache ein Gruppenbild von allen",
            "Mache ein Bild mit allen Sch√ºlern",
            "Mache ein Foto von allen Mannschaftskollegen des Geburtstagskinds.",
            "Trommel alle M√§nner zusammen und mache ein Gruppenbild von allen",
            "Finde 3 G√§ste, die zusammen genau 100 Jahre sind.",
            "Finde einen Gast mit einem witzigen Personalausweis-Foto und fotografiere es (nur das Bild) und den Besitzer",
            "Finde den Gast mit der weitesten Anreise und fotografiere ihn aus der Entfernung.",
            "Mache ein Foto mit allen, die mit dem Geburtstagskind in einer Klasse waren.",
            "Finde eine Person mit dem gleichen Sternzeichen und mache ein Foto von euch",
            "Finde den j√ºngsten und den √§ltesten Gast und fotografiere sie zusammen!",
            "Finde die Person, die deinem Alter am n√§chsten ist und fotografiert euch zusammen!",
            "Mache ein Foto mit der Person, die die meisten Kinder hat.",
            "Finde einen Gast mit einem witzigen F√ºhrerscheinfoto und mache ein Bild vom F√ºhrerschein-Foto und Besitzer.",
            "Finde eine Person, deren Vorname mit dem gleichen Buchstaben beginnt wie deiner und macht zusammen ein Selfie",
            "Mache ein Foto mit allen, die ein Haustier haben.",
            "Mache ein Foto mit allen, die ein Instrument spielen.",
            "Finde eine Person mit einer Gemeinsamkeit und fotografiert euch zusammen!",
            "Finde eine Person, die etwas total ungew√∂hnliches macht und macht gemeinsam ein Foto.",
            "Finde heraus, welches Paar am l√§ngsten zusammen/verheiratet ist und fotografiere es!",
            "Suche alle G√§ste mit der gleichen Schuhfarbe wie deine und mache ein Bild von euren Schuhen.",
            "Fotografiere das sch√∂nste St√ºck der Deko",
            "Mach ein Bild von der Geburtstagsgesellschaft in Vogelperspektive ‚Äì mindestens von einem Stuhl!",
            "Fotografiere etwas total typisches f√ºr den Ort der Geburtstagsfeier drinnen oder drau√üen.",
            "Mache ein Foto vom gef√ºllten Snacktisch.",
            "Mache ein Vorher-Bild von der Tanzfl√§che",
            "Mache ein Selfie vom Eingang der Location",
            "Mache ein Foto von dir und der Location",
            "Trommel mindestens 4 Geburtstagsg√§ste zusammen und lasse sie die Initialien des Geburtstagskindes darstellen und fotografiere es.",
            "Finde jemanden, der einen Handstand oder ein Rad macht und fotografiere sie dabei",
            "Fotografiere dich, wie du eine Yoga-Pose machst",
            "Finde so viele M√§nner, wie du kannst die einen anderen Gast auf den Arm nehmen und fotografiere die Gruppe.",
            "Rufe zur Polonaise auf, die du anf√ºhrst und mache ein Selfie.",
            "Trommle 3 M√§nner zusammen, die das Geburtstagskind √ºber ihre Schultern hoch in die Luft heben und schweben lassen",
            "W√ºnsche dir ein Lied und motiviere 3 Leute mit dir dazu richtig abzugehen und zusammen ein Selfie zu machen",
            "Fotografiere den wildesten T√§nzer",
            "Finde jemanden, der dich Huckepack nimmt oder nimm jemanden Huckepack und mache ein Foto davon.",
            "Suche einen m√§nnlichen Gast, der (deine) Absatzschuhe anzieht und in ihnen einen Catwalk hinlegt",
            "Bringe jemanden dazu, dem Geburtstagskind ein St√§ndchen zu singen und fotografiere es.",
            "Knipse dich kurz bevor du mit dem Geburtstags-Essen futtern anf√§ngst vor dem Teller und schau so verfressen wie du kannst.",
            "Stelle mit anderen G√§sten die Evolution des Affen bis zum Menschen dar und lasst euch dabei fotografieren.",
            "Halte das Glas vor das Gesicht eines Gasts, so dass es ganz verzerrt ist und mache durch den Glasboden ein Foto davon.",
            "Du hast im Lotto gewonnen ‚Äì zeig deinen besten Jubel!",
            "Finde eine Person, die du nicht kennst und fotografiert euch gemeinsam beim schneiden der gleichen Grimasse.",
            "Mach eine Nahaufnahme von einem k√∂stlichen Bissen Nachtisch, kurz bevor er im Mund eines Gastes verschwindet.",
            "Mach ein Foto von dir mit der Tischdeko als Kopfbedeckung.",
            "Stelle alleine oder mit anderen G√§sten eine Szene aus einem Film nach und lasst euch fotografieren",
            "Suche m√∂glichst viele G√§ste, die ihre Zunge gleichzeitig f√ºr ein Foto herausstrecken.",
            "Suche einen Gast mit witzigen Socken und mache ein Bild von den Socken.",
            "Mache einen Karatekick und fotografiere es.",
            "Nimm dir ein Requisit von der Deko und mach damit ein albernes Bild.",
            "Stelle mit 3 weiteren G√§sten die 4 Elemente pantomimisch dar und lasst euch fotografieren",
            "Bringe mehrere G√§ste dazu gleichzeitig hochzuspringen und fotografiere den Moment",
            "Mach ein Bild von 7 G√§sten, die ihre H√§nde im Scho√ü verschr√§nken wie bei der Mauer beim Fu√üball und fotografiere sie ohne K√∂pfe.",
            "Mach ein Bild von 7 G√§sten, die ihre H√§nde im Scho√ü verschr√§nken wie bei der Mauer beim Fu√üball und fotografiere nur die K√∂pfe.",
            "Fordere einen Gast heraus, eine schwierige k√∂rperliche Herausforderung zu meistern, z. B. einen ‚ÄûKopfstand‚Äú oder ‚Äûeine perfekte Plank-Position‚Äú f√ºr mindestens 10 Sekunden zu halten und fotografiere dies",
            "Fordere jemanden zu einem Rennen heraus und mache ein Foto von der Startlinie.",
            "Mache ein Foto von dir und einem Gast in der Luft, w√§hrend ihr beide einen High-Five macht.",
            "Bitte jemanden, einen Handstand zu machen, und fotografiere den Moment.",
            "Mache ein Foto von dir und dem Geburtstagskind, w√§hrend ihr beide in eine Pose springt.",
            "Fordere jemanden zu einem Tanz-Wettbewerb heraus und mache ein Bild davon.",
            "Mache ein Foto von einer kreativen Art, wie jemand eine Serviette faltet.",
        ];

const dbRef = firebase.database().ref('tasks');

// Initialisiere Aufgaben, wenn die Datenbank leer ist
dbRef.once('value').then(snapshot => {
  if (!snapshot.exists()) {
    dbRef.set({
      tasks: originalTasks,
      lastResetTime: Date.now()
    });
  }
});

function generateTask() {
  dbRef.once('value').then(snapshot => {
    const data = snapshot.val();
    const tasks = data.tasks || [];
    const lastResetTime = data.lastResetTime;

    const twelveHoursInMilliseconds = 12 * 60 * 60 * 1000;
    const currentTime = Date.now();

    // Aufgaben zur√ºcksetzen, wenn 12 Stunden vergangen sind
    if (currentTime - lastResetTime >= twelveHoursInMilliseconds) {
      dbRef.set({
        tasks: originalTasks,
        lastResetTime: currentTime
      });
      alert('Aufgaben wurden zur√ºckgesetzt!');
      return;
    }

    if (tasks.length === 0) {
      document.getElementById("taskDisplay").innerText = "Alle Aufgaben wurden bereits verteilt!";
      return;
    }

    // Zuf√§llige Aufgabe ausw√§hlen
    const randomIndex = Math.floor(Math.random() * tasks.length);
    const selectedTask = tasks.splice(randomIndex, 1)[0];

    // Aktualisiere die Datenbank
    dbRef.update({ tasks });

    // Aufgabe anzeigen
    document.getElementById("taskDisplay").innerText = selectedTask;
    document.getElementById("tasksRemaining").innerText = tasks.length;
  });
}
</script>
</body>
</html>
